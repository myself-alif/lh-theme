/*! For license information please see player.js.LICENSE.txt */
!function(O,_){"object"==typeof exports&&"undefined"!=typeof module?module.exports=_():"function"==typeof define&&define.amd?define(_):((O="undefined"!=typeof globalThis?globalThis:O||self).Vimeo=O.Vimeo||{},O.Vimeo.Player=_())}(this,(function(){"use strict";function r(O,_){var M,L=Object.keys(O);return Object.getOwnPropertySymbols&&(M=Object.getOwnPropertySymbols(O),_&&(M=M.filter((function(_){return Object.getOwnPropertyDescriptor(O,_).enumerable}))),L.push.apply(L,M)),L}function u(O){for(var _=1;_<arguments.length;_++){var M=null!=arguments[_]?arguments[_]:{};_%2?r(Object(M),!0).forEach((function(_){s(O,_,M[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(M)):r(Object(M)).forEach((function(_){Object.defineProperty(O,_,Object.getOwnPropertyDescriptor(M,_))}))}return O}function j(){j=function(){return O};var O={},_=Object.prototype,M=_.hasOwnProperty,L=Object.defineProperty||function(O,_,M){O[_]=M.value},A="function"==typeof Symbol?Symbol:{},R=A.iterator||"@@iterator",U=A.asyncIterator||"@@asyncIterator",Y=A.toStringTag||"@@toStringTag";function i(O,_,M){return Object.defineProperty(O,_,{value:M,enumerable:!0,configurable:!0,writable:!0}),O[_]}try{i({},"")}catch(_){i=function(O,_,M){return O[_]=M}}function u(O,_,M,A){var R,U,Y,J,X=_&&_.prototype instanceof p?_:p,$=Object.create(X.prototype),K=new x(A||[]);return L($,"_invoke",{value:(R=O,U=M,Y=K,J="suspendedStart",function(O,_){if("executing"===J)throw new Error("Generator is already running");if("completed"===J){if("throw"===O)throw _;return{value:void 0,done:!0}}for(Y.method=O,Y.arg=_;;){var M=Y.delegate;if(M){var L=function e(O,_){var M=_.method,L=O.iterator[M];if(void 0===L)return _.delegate=null,"throw"===M&&O.iterator.return&&(_.method="return",_.arg=void 0,e(O,_),"throw"===_.method)||"return"!==M&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+M+"' method")),Q;var A=d(L,O.iterator,_.arg);if("throw"===A.type)return _.method="throw",_.arg=A.arg,_.delegate=null,Q;var R=A.arg;return R?R.done?(_[O.resultName]=R.value,_.next=O.nextLoc,"return"!==_.method&&(_.method="next",_.arg=void 0),_.delegate=null,Q):R:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,Q)}(M,Y);if(L){if(L===Q)continue;return L}}if("next"===Y.method)Y.sent=Y._sent=Y.arg;else if("throw"===Y.method){if("suspendedStart"===J)throw J="completed",Y.arg;Y.dispatchException(Y.arg)}else"return"===Y.method&&Y.abrupt("return",Y.arg);J="executing";var A=d(R,U,Y);if("normal"===A.type){if(J=Y.done?"completed":"suspendedYield",A.arg===Q)continue;return{value:A.arg,done:Y.done}}"throw"===A.type&&(J="completed",Y.method="throw",Y.arg=A.arg)}})}),$}function d(O,_,M){try{return{type:"normal",arg:O.call(_,M)}}catch(O){return{type:"throw",arg:O}}}O.wrap=u;var Q={};function p(){}function c(){}function l(){}var J={};i(J,R,(function(){return this}));var X=Object.getPrototypeOf,$=X&&X(X(P([])));$&&$!==_&&M.call($,R)&&(J=$);var K=l.prototype=p.prototype=Object.create(J);function w(O){["next","throw","return"].forEach((function(_){i(O,_,(function(O){return this._invoke(_,O)}))}))}function b(O,_){var A;L(this,"_invoke",{value:function(L,R){function e(){return new _((function(A,U){!function t(L,A,R,U){var Y=d(O[L],O,A);if("throw"!==Y.type){var Q=Y.arg,J=Q.value;return J&&"object"==typeof J&&M.call(J,"__await")?_.resolve(J.__await).then((function(O){t("next",O,R,U)}),(function(O){t("throw",O,R,U)})):_.resolve(J).then((function(O){Q.value=O,R(Q)}),(function(O){return t("throw",O,R,U)}))}U(Y.arg)}(L,R,A,U)}))}return A=A?A.then(e,e):e()}})}function k(O){var _={tryLoc:O[0]};1 in O&&(_.catchLoc=O[1]),2 in O&&(_.finallyLoc=O[2],_.afterLoc=O[3]),this.tryEntries.push(_)}function E(O){var _=O.completion||{};_.type="normal",delete _.arg,O.completion=_}function x(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(k,this),this.reset(!0)}function P(O){if(O){var _=O[R];if(_)return _.call(O);if("function"==typeof O.next)return O;if(!isNaN(O.length)){var L=-1,A=function e(){for(;++L<O.length;)if(M.call(O,L))return e.value=O[L],e.done=!1,e;return e.value=void 0,e.done=!0,e};return A.next=A}}return{next:T}}function T(){return{value:void 0,done:!0}}return L(K,"constructor",{value:c.prototype=l,configurable:!0}),L(l,"constructor",{value:c,configurable:!0}),c.displayName=i(l,Y,"GeneratorFunction"),O.isGeneratorFunction=function(O){var _="function"==typeof O&&O.constructor;return!!_&&(_===c||"GeneratorFunction"===(_.displayName||_.name))},O.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,l):(O.__proto__=l,i(O,Y,"GeneratorFunction")),O.prototype=Object.create(K),O},O.awrap=function(O){return{__await:O}},w(b.prototype),i(b.prototype,U,(function(){return this})),O.AsyncIterator=b,O.async=function(_,M,L,A,R){void 0===R&&(R=Promise);var U=new b(u(_,M,L,A),R);return O.isGeneratorFunction(M)?U:U.next().then((function(O){return O.done?O.value:U.next()}))},w(K),i(K,Y,"Generator"),i(K,R,(function(){return this})),i(K,"toString",(function(){return"[object Generator]"})),O.keys=function(O){var _=Object(O),M=[];for(var L in _)M.push(L);return M.reverse(),function e(){for(;M.length;){var O=M.pop();if(O in _)return e.value=O,e.done=!1,e}return e.done=!0,e}},O.values=P,x.prototype={constructor:x,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!O)for(var _ in this)"t"===_.charAt(0)&&M.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if("throw"===O.type)throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var _=this;function e(M,L){return R.type="throw",R.arg=O,_.next=M,L&&(_.method="next",_.arg=void 0),!!L}for(var L=this.tryEntries.length-1;0<=L;--L){var A=this.tryEntries[L],R=A.completion;if("root"===A.tryLoc)return e("end");if(A.tryLoc<=this.prev){var U=M.call(A,"catchLoc"),Y=M.call(A,"finallyLoc");if(U&&Y){if(this.prev<A.catchLoc)return e(A.catchLoc,!0);if(this.prev<A.finallyLoc)return e(A.finallyLoc)}else if(U){if(this.prev<A.catchLoc)return e(A.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<A.finallyLoc)return e(A.finallyLoc)}}}},abrupt:function(O,_){for(var L=this.tryEntries.length-1;0<=L;--L){var A=this.tryEntries[L];if(A.tryLoc<=this.prev&&M.call(A,"finallyLoc")&&this.prev<A.finallyLoc){var R=A;break}}R&&("break"===O||"continue"===O)&&R.tryLoc<=_&&_<=R.finallyLoc&&(R=null);var U=R?R.completion:{};return U.type=O,U.arg=_,R?(this.method="next",this.next=R.finallyLoc,Q):this.complete(U)},complete:function(O,_){if("throw"===O.type)throw O.arg;return"break"===O.type||"continue"===O.type?this.next=O.arg:"return"===O.type?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):"normal"===O.type&&_&&(this.next=_),Q},finish:function(O){for(var _=this.tryEntries.length-1;0<=_;--_){var M=this.tryEntries[_];if(M.finallyLoc===O)return this.complete(M.completion,M.afterLoc),E(M),Q}},catch:function(O){for(var _=this.tryEntries.length-1;0<=_;--_){var M=this.tryEntries[_];if(M.tryLoc===O){var L,A=M.completion;return"throw"===A.type&&(L=A.arg,E(M)),L}}throw new Error("illegal catch attempt")},delegateYield:function(O,_,M){return this.delegate={iterator:P(O),resultName:_,nextLoc:M},"next"===this.method&&(this.arg=void 0),Q}},O}function c(O,_,M,L,A,R,U){try{var Y=O[R](U),Q=Y.value}catch(O){return void M(O)}Y.done?_(Q):Promise.resolve(Q).then(L,A)}function h(O){return function(){var _=this,M=arguments;return new Promise((function(L,A){var R=O.apply(_,M);function o(O){c(R,L,A,o,i,"next",O)}function i(O){c(R,L,A,o,i,"throw",O)}o(void 0)}))}}function l(O,_){if(!(O instanceof _))throw new TypeError("Cannot call a class as a function")}function o(O,_){for(var M=0;M<_.length;M++){var L=_[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(O,y(L.key),L)}}function e(O,_,M){return _&&o(O.prototype,_),M&&o(O,M),Object.defineProperty(O,"prototype",{writable:!1}),O}function s(O,_,M){return(_=y(_))in O?Object.defineProperty(O,_,{value:M,enumerable:!0,configurable:!0,writable:!0}):O[_]=M,O}function i(O){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)})(O)}function f(O,_){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,_){return O.__proto__=_,O})(O,_)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(O){return!1}}function d(O,_,M){return(d=a()?Reflect.construct.bind():function(O,_,M){var L=[null];L.push.apply(L,_);var A=new(Function.bind.apply(O,L));return M&&f(A,M.prototype),A}).apply(null,arguments)}function t(O){var _="function"==typeof Map?new Map:void 0;return(t=function(O){if(null===O||(M=O,-1===Function.toString.call(M).indexOf("[native code]")))return O;var M;if("function"!=typeof O)throw new TypeError("Super expression must either be null or a function");if(void 0!==_){if(_.has(O))return _.get(O);_.set(O,n)}function n(){return d(O,arguments,i(this).constructor)}return n.prototype=Object.create(O.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,O)})(O)}function p(O){if(void 0===O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function v(O){var _=a();return function(){var M,L=i(O);return function(O,_){if(_&&("object"==typeof _||"function"==typeof _))return _;if(void 0!==_)throw new TypeError("Derived constructors may only return object or undefined");return p(O)}(this,_?(M=i(this).constructor,Reflect.construct(L,arguments,M)):L.apply(this,arguments))}}function y(O){var _=function(O){if("object"!=typeof O||null===O)return O;var _=O[Symbol.toPrimitive];if(void 0===_)return String(O);var M=_.call(O,"string");if("object"!=typeof M)return M;throw new TypeError("@@toPrimitive must return a primitive value.")}(O);return"symbol"==typeof _?_:String(_)}var O="undefined"!=typeof global&&"[object global]"==={}.toString.call(global);function m(O,_){return 0===O.indexOf(_.toLowerCase())?O:"".concat(_.toLowerCase()).concat(O.substr(0,1).toUpperCase()).concat(O.substr(1))}function g(O){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(O)}function w(O){return/^https:\/\/player\.vimeo\.com\/video\/\d+/.test(O)}function b(O){var _,M=0<arguments.length&&void 0!==O?O:{},L=M.id,A=M.url,R=L||A;if(!R)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(_=R,!isNaN(parseFloat(_))&&isFinite(_)&&Math.floor(_)==_)return"https://vimeo.com/".concat(R);if(g(R))return R.replace("http:","https:");if(L)throw new TypeError("“".concat(L,"” is not a valid video id."));throw new TypeError("“".concat(R,"” is not a vimeo.com url."))}function k(O,_,M,L,A){var R=3<arguments.length&&void 0!==L?L:"addEventListener",U=4<arguments.length&&void 0!==A?A:"removeEventListener",Y="string"==typeof _?[_]:_;return Y.forEach((function(_){O[R](_,M)})),{cancel:function(){return Y.forEach((function(_){return O[U](_,M)}))}}}var _=void 0!==Array.prototype.indexOf,M="undefined"!=typeof window&&void 0!==window.postMessage;if(!(O||_&&M))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var L,A,R,U,Y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(U(this,"_id","_WeakMap_"+N()+"."+N()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function C(O,_){if(!F(O)||!A.call(O,"_id"))throw new TypeError(_+" method called on incompatible receiver "+typeof O)}function N(){return Math.random().toString().substring(2)}function F(O){return Object(O)===O}(L="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:Y).WeakMap||(A=Object.prototype.hasOwnProperty,R=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(O){}}(),U=function(O,_,M){R?Object.defineProperty(O,_,{configurable:!0,writable:!0,value:M}):O[_]=M},L.WeakMap=(U(S.prototype,"delete",(function(O){if(C(this,"delete"),!F(O))return!1;var _=O[this._id];return!(!_||_[0]!==O||(delete O[this._id],0))})),U(S.prototype,"get",(function(O){if(C(this,"get"),F(O)){var _=O[this._id];return _&&_[0]===O?_[1]:void 0}})),U(S.prototype,"has",(function(O){if(C(this,"has"),!F(O))return!1;var _=O[this._id];return!(!_||_[0]!==O)})),U(S.prototype,"set",(function(O,_){if(C(this,"set"),!F(O))throw new TypeError("Invalid value used as weak map key");var M=O[this._id];return M&&M[0]===O?M[1]=_:U(O,this._id,[O,_]),this})),U(S,"_polyfill",!0),S));var Q,J=(function(O){var _,M,L;L=function(){var O,_,M,L,A,R,U=Object.prototype.toString,Y="undefined"!=typeof setImmediate?function(O){return setImmediate(O)}:setTimeout;try{Object.defineProperty({},"x",{}),O=function(O,_,M,L){return Object.defineProperty(O,_,{value:M,writable:!0,configurable:!1!==L})}}catch(U){O=function(O,_,M){return O[_]=M,O}}function c(O,_){this.fn=O,this.self=_,this.next=void 0}function l(O,L){M.add(O,L),_=_||Y(M.drain)}function s(O){var _,M=typeof O;return null==O||"object"!=M&&"function"!=M||(_=O.then),"function"==typeof _&&_}function f(){for(var O=0;O<this.chain.length;O++)!function(O,_,M){var L,A;try{!1===_?M.reject(O.msg):(L=!0===_?O.msg:_.call(void 0,O.msg))===M.promise?M.reject(TypeError("Promise-chain cycle")):(A=s(L))?A.call(L,M.resolve,M.reject):M.resolve(L)}catch(O){M.reject(O)}}(this,1===this.state?this.chain[O].success:this.chain[O].failure,this.chain[O]);this.chain.length=0}function d(O){var _,M=this;if(!M.triggered){M.triggered=!0,M.def&&(M=M.def);try{(_=s(O))?l((function(){var L=new v(M);try{_.call(O,(function(){d.apply(L,arguments)}),(function(){h.apply(L,arguments)}))}catch(O){h.call(L,O)}})):(M.msg=O,M.state=1,0<M.chain.length&&l(f,M))}catch(O){h.call(new v(M),O)}}}function h(O){var _=this;_.triggered||(_.triggered=!0,_.def&&(_=_.def),_.msg=O,_.state=2,0<_.chain.length&&l(f,_))}function p(O,_,M,L){for(var A=0;A<_.length;A++)!function(A){O.resolve(_[A]).then((function(O){M(A,O)}),L)}(A)}function v(O){this.def=O,this.triggered=!1}function y(O){this.promise=O,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(O){if("function"!=typeof O)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var _=new y(this);this.then=function(O,M){var L={success:"function"!=typeof O||O,failure:"function"==typeof M&&M};return L.promise=new this.constructor((function(O,_){if("function"!=typeof O||"function"!=typeof _)throw TypeError("Not a function");L.resolve=O,L.reject=_})),_.chain.push(L),0!==_.state&&l(f,_),L.promise},this.catch=function(O){return this.then(void 0,O)};try{O.call(void 0,(function(O){d.call(_,O)}),(function(O){h.call(_,O)}))}catch(O){h.call(_,O)}}var Q=O({},"constructor",m,!(M={add:function(O,_){R=new c(O,_),A?A.next=R:L=R,A=R,R=void 0},drain:function(){var O=L;for(L=A=_=void 0;O;)O.fn.call(O.self),O=O.next}}));return O(m.prototype=Q,"__NPO__",0,!1),O(m,"resolve",(function(O){return O&&"object"==typeof O&&1===O.__NPO__?O:new this((function(_,M){if("function"!=typeof _||"function"!=typeof M)throw TypeError("Not a function");_(O)}))})),O(m,"reject",(function(O){return new this((function(_,M){if("function"!=typeof _||"function"!=typeof M)throw TypeError("Not a function");M(O)}))})),O(m,"all",(function(O){var _=this;return"[object Array]"!=U.call(O)?_.reject(TypeError("Not an array")):0===O.length?_.resolve([]):new _((function(M,L){if("function"!=typeof M||"function"!=typeof L)throw TypeError("Not a function");var A=O.length,R=Array(A),U=0;p(_,O,(function(O,_){R[O]=_,++U===A&&M(R)}),L)}))})),O(m,"race",(function(O){var _=this;return"[object Array]"!=U.call(O)?_.reject(TypeError("Not an array")):new _((function(M,L){if("function"!=typeof M||"function"!=typeof L)throw TypeError("Not a function");p(_,O,(function(O,_){M(_)}),L)}))})),m},(M=Y)[_="Promise"]=M[_]||L(),O.exports&&(O.exports=M[_])}(Q={exports:{}}),Q.exports),X=new WeakMap;function q(O,_,M){var L=X.get(O.element)||{};_ in L||(L[_]=[]),L[_].push(M),X.set(O.element,L)}function I(O,_){return(X.get(O.element)||{})[_]||[]}function V(O,_,M){var L=X.get(O.element)||{};if(!L[_])return!0;if(!M)return L[_]=[],X.set(O.element,L),!0;var A=L[_].indexOf(M);return-1!==A&&L[_].splice(A,1),X.set(O.element,L),L[_]&&0===L[_].length}function D(O){if("string"==typeof O)try{O=JSON.parse(O)}catch(O){return console.warn(O),{}}return O}function W(O,_,M){var L,A;O.element.contentWindow&&O.element.contentWindow.postMessage&&(L={method:_},void 0!==M&&(L.value=M),8<=(A=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1")))&&A<10&&(L=JSON.stringify(L)),O.element.contentWindow.postMessage(L,O.origin))}var $=["autopause","autoplay","background","byline","color","colors","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function G(O,_){var M=1<arguments.length&&void 0!==_?_:{};return $.reduce((function(_,M){var L=O.getAttribute("data-vimeo-".concat(M));return!L&&""!==L||(_[M]=""===L?1:L),_}),M)}function B(O,_){var M=O.html;if(!_)throw new TypeError("An element must be provided");if(null!==_.getAttribute("data-vimeo-initialized"))return _.querySelector("iframe");var L=document.createElement("div");return L.innerHTML=M,_.appendChild(L.firstChild),_.setAttribute("data-vimeo-initialized","true"),_.querySelector("iframe")}function H(O,_,M){var L=1<arguments.length&&void 0!==_?_:{},A=2<arguments.length?M:void 0;return new Promise((function(_,M){if(!g(O))throw new TypeError("“".concat(O,"” is not a vimeo.com url."));var R="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(O));for(var U in L)L.hasOwnProperty(U)&&(R+="&".concat(U,"=").concat(encodeURIComponent(L[U])));var Y=new("XDomainRequest"in window?XDomainRequest:XMLHttpRequest);Y.open("GET",R,!0),Y.onload=function(){if(404!==Y.status)if(403!==Y.status)try{var L=JSON.parse(Y.responseText);if(403===L.domain_status_code)return B(L,A),void M(new Error("“".concat(O,"” is not embeddable.")));_(L)}catch(L){M(L)}else M(new Error("“".concat(O,"” is not embeddable.")));else M(new Error("“".concat(O,"” was not found.")))},Y.onerror=function(){var O=Y.status?" (".concat(Y.status,")"):"";M(new Error("There was an error fetching the embed code from Vimeo".concat(O,".")))},Y.send()}))}var K,Z,ee,te={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},ne=function(){!function(O,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(_&&_.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),_&&f(O,_)}(a,t(EventTarget));var O,_,M,L=v(a);function a(O,_){var M,A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},R=3<arguments.length?arguments[3]:void 0;return l(this,a),s(p(M=L.call(this)),"logger",void 0),s(p(M),"speedAdjustment",0),s(p(M),"adjustSpeed",function(){var O=h(j().mark((function e(O,_){var L;return j().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(M.speedAdjustment===_)return A.abrupt("return");A.next=2;break;case 2:return A.next=4,O.getPlaybackRate();case 4:return A.t0=A.sent,A.t1=M.speedAdjustment,A.t2=A.t0-A.t1,A.t3=_,L=A.t2+A.t3,M.log("New playbackRate:  ".concat(L)),A.next=12,O.setPlaybackRate(L);case 12:M.speedAdjustment=_;case 13:case"end":return A.stop()}}),e)})));return function(_,M){return O.apply(this,arguments)}}()),M.logger=R,M.init(_,O,u(u({},te),A)),M}return e(a,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:(M=h(j().mark((function e(O,_,M){var L,A,R,U=this;return j().wrap((function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,this.waitForTOReadyState(O,"open");case 2:if("viewer"===M.role)return Y.next=5,this.updatePlayer(O,_,M);Y.next=10;break;case 5:L=k(O,"change",(function(){return U.updatePlayer(O,_,M)})),A=this.maintainPlaybackPosition(O,_,M),this.addEventListener("disconnect",(function(){A.cancel(),L.cancel()})),Y.next=14;break;case 10:return Y.next=12,this.updateTimingObject(O,_);case 12:R=k(_,["seeked","play","pause","ratechange"],(function(){return U.updateTimingObject(O,_)}),"on","off"),this.addEventListener("disconnect",(function(){return R.cancel()}));case 14:case"end":return Y.stop()}}),e,this)}))),function(O,_,L){return M.apply(this,arguments)})},{key:"updateTimingObject",value:(_=h(j().mark((function e(O,_){return j().wrap((function(M){for(;;)switch(M.prev=M.next){case 0:return M.t0=O,M.next=3,_.getCurrentTime();case 3:return M.t1=M.sent,M.next=6,_.getPaused();case 6:if(!M.sent){M.next=10;break}M.t2=0,M.next=13;break;case 10:return M.next=12,_.getPlaybackRate();case 12:M.t2=M.sent;case 13:M.t3=M.t2,M.t4={position:M.t1,velocity:M.t3},M.t0.update.call(M.t0,M.t4);case 16:case"end":return M.stop()}}),e)}))),function(O,M){return _.apply(this,arguments)})},{key:"updatePlayer",value:(O=h(j().mark((function e(O,_,M){var L,A,R;return j().wrap((function(U){for(;;)switch(U.prev=U.next){case 0:if(L=O.query(),A=L.position,R=L.velocity,"number"==typeof A&&_.setCurrentTime(A),"number"!=typeof R){U.next=25;break}if(0===R)return U.next=6,_.getPaused();U.next=11;break;case 6:if(U.t0=U.sent,!1!==U.t0){U.next=9;break}_.pause();case 9:U.next=25;break;case 11:if(0<R)return U.next=14,_.getPaused();U.next=25;break;case 14:if(U.t1=U.sent,!0===U.t1)return U.next=18,_.play().catch(function(){var O=h(j().mark((function e(O){return j().wrap((function(L){for(;;)switch(L.prev=L.next){case 0:if("NotAllowedError"===O.name&&M.autoPlayMuted)return L.next=3,_.setMuted(!0);L.next=5;break;case 3:return L.next=5,_.play().catch((function(O){return console.error("Couldn't play the video from TimingSrcConnector. Error:",O)}));case 5:case"end":return L.stop()}}),e)})));return function(_){return O.apply(this,arguments)}}());U.next=19;break;case 18:this.updatePlayer(O,_,M);case 19:return U.next=21,_.getPlaybackRate();case 21:if(U.t2=U.sent,U.t3=R,U.t2===U.t3){U.next=25;break}_.setPlaybackRate(R);case 25:case"end":return U.stop()}}),e,this)}))),function(_,M,L){return O.apply(this,arguments)})},{key:"maintainPlaybackPosition",value:function(O,_,M){var L=this,A=M.allowedDrift,R=M.maxAllowedDrift,U=M.minCheckInterval,Y=M.maxRateAdjustment,Q=M.maxTimeToCatchUp,J=1e3*Math.min(Q,Math.max(U,R)),X=function(){var M=h(j().mark((function e(){var M,U,J,X,$;return j().wrap((function(K){for(;;)switch(K.prev=K.next){case 0:if(K.t0=0===O.query().velocity,K.t0){K.next=6;break}return K.next=4,_.getPaused();case 4:K.t1=K.sent,K.t0=!0===K.t1;case 6:if(K.t0)return K.abrupt("return");K.next=8;break;case 8:return K.t2=O.query().position,K.next=11,_.getCurrentTime();case 11:if(K.t3=K.sent,M=K.t2-K.t3,U=Math.abs(M),L.log("Drift: ".concat(M)),R<U)return K.next=18,L.adjustSpeed(_,0);K.next=22;break;case 18:_.setCurrentTime(O.query().position),L.log("Resync by currentTime"),K.next=29;break;case 22:if(A<U)return $=(J=U/Q)<(X=Y)?(X-J)/2:X,K.next=28,L.adjustSpeed(_,$*Math.sign(M));K.next=29;break;case 28:L.log("Resync by playbackRate");case 29:case"end":return K.stop()}}),e)})));return function(){return M.apply(this,arguments)}}(),$=setInterval((function(){return X()}),J);return{cancel:function(){return clearInterval($)}}}},{key:"log",value:function(O){var _;null!==(_=this.logger)&&void 0!==_&&_.call(this,"TimingSrcConnector: ".concat(O))}},{key:"waitForTOReadyState",value:function(O,_){return new Promise((function(M){!function e(){O.readyState===_?M():O.addEventListener("readystatechange",e,{once:!0})}()}))}}]),a}(),re=new WeakMap,oe=new WeakMap,ie={},ae=function(){function Player(O){var _,M,L=this,A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(l(this,Player),window.jQuery&&O instanceof jQuery&&(1<O.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),O=O[0]),"undefined"!=typeof document&&"string"==typeof O&&(O=document.getElementById(O)),_=O,!Boolean(_&&1===_.nodeType&&"nodeName"in _&&_.ownerDocument&&_.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"===O.nodeName||(M=O.querySelector("iframe"))&&(O=M),"IFRAME"===O.nodeName&&!g(O.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(re.has(O))return re.get(O);this._window=O.ownerDocument.defaultView,this.element=O,this.origin="*";var R,U=new J((function(_,M){var R;L._onMessage=function(O){if(g(O.origin)&&L.element.contentWindow===O.source){"*"===L.origin&&(L.origin=O.origin);var A=D(O.data);if(A&&"error"===A.event&&A.data&&"ready"===A.data.method){var R=new Error(A.data.message);return R.name=A.data.name,void M(R)}var U=A&&"ready"===A.event,Y=A&&"ping"===A.method;if(U||Y)return L.element.setAttribute("data-ready","true"),void _();!function z(O,_){var M,L,A=[];(_=D(_)).event?("error"===_.event&&I(O,_.data.method).forEach((function(M){var L=new Error(_.data.message);L.name=_.data.name,M.reject(L),V(O,_.data.method,M)})),A=I(O,"event:".concat(_.event)),M=_.data):!_.method||(L=function(O,_){var M=I(O,_);if(M.length<1)return!1;var L=M.shift();return V(O,_,L),L}(O,_.method))&&(A.push(L),M=_.value),A.forEach((function(_){try{if("function"==typeof _)return void _.call(O,M);_.resolve(M)}catch(_){}}))}(L,A)}},L._window.addEventListener("message",L._onMessage),"IFRAME"!==L.element.nodeName&&H(b(R=G(O,A)),R,O).then((function(_){var M,A,R,U=B(_,O);return L.element=U,L._originalElement=O,M=O,A=U,R=X.get(M),X.set(A,R),X.delete(M),re.set(L.element,L),_})).catch(M)}));return oe.set(this,U),re.set(this.element,this),"IFRAME"===this.element.nodeName&&W(this,"ping"),ie.isEnabled&&(R=function(){return ie.exit()},this.fullscreenchangeHandler=function(){(ie.isFullscreen?q:V)(L,"event:exitFullscreen",R),L.ready().then((function(){W(L,"fullscreenchange",ie.isFullscreen)}))},ie.on("fullscreenchange",this.fullscreenchangeHandler)),this}var O;return e(Player,[{key:"callMethod",value:function(O,_){var M=this,L=1<arguments.length&&void 0!==_?_:{};return new J((function(_,A){return M.ready().then((function(){q(M,O,{resolve:_,reject:A}),W(M,O,L)})).catch(A)}))}},{key:"get",value:function(O){var _=this;return new J((function(M,L){return O=m(O,"get"),_.ready().then((function(){q(_,O,{resolve:M,reject:L}),W(_,O)})).catch(L)}))}},{key:"set",value:function(O,_){var M=this;return new J((function(L,A){if(O=m(O,"set"),null==_)throw new TypeError("There must be a value to set.");return M.ready().then((function(){q(M,O,{resolve:L,reject:A}),W(M,O,_)})).catch(A)}))}},{key:"on",value:function(O,_){if(!O)throw new TypeError("You must pass an event name.");if(!_)throw new TypeError("You must pass a callback function.");if("function"!=typeof _)throw new TypeError("The callback must be a function.");0===I(this,"event:".concat(O)).length&&this.callMethod("addEventListener",O).catch((function(){})),q(this,"event:".concat(O),_)}},{key:"off",value:function(O,_){if(!O)throw new TypeError("You must pass an event name.");if(_&&"function"!=typeof _)throw new TypeError("The callback must be a function.");V(this,"event:".concat(O),_)&&this.callMethod("removeEventListener",O).catch((function(O){}))}},{key:"loadVideo",value:function(O){return this.callMethod("loadVideo",O)}},{key:"ready",value:function(){var O=oe.get(this)||new J((function(O,_){_(new Error("Unknown player. Probably unloaded."))}));return J.resolve(O)}},{key:"addCuePoint",value:function(O,_){var M=1<arguments.length&&void 0!==_?_:{};return this.callMethod("addCuePoint",{time:O,data:M})}},{key:"removeCuePoint",value:function(O){return this.callMethod("removeCuePoint",O)}},{key:"enableTextTrack",value:function(O,_){if(!O)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:O,kind:_})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return ie.isEnabled?ie.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return ie.isEnabled?ie.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return ie.isEnabled?J.resolve(ie.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var O=this;return new J((function(_){var M;oe.delete(O),re.delete(O.element),O._originalElement&&(re.delete(O._originalElement),O._originalElement.removeAttribute("data-vimeo-initialized")),O.element&&"IFRAME"===O.element.nodeName&&O.element.parentNode&&(O.element.parentNode.parentNode&&O._originalElement&&O._originalElement!==O.element.parentNode?O.element.parentNode.parentNode.removeChild(O.element.parentNode):O.element.parentNode.removeChild(O.element)),O.element&&"DIV"===O.element.nodeName&&O.element.parentNode&&(O.element.removeAttribute("data-vimeo-initialized"),(M=O.element.querySelector("iframe"))&&M.parentNode&&(M.parentNode.parentNode&&O._originalElement&&O._originalElement!==M.parentNode?M.parentNode.parentNode.removeChild(M.parentNode):M.parentNode.removeChild(M))),O._window.removeEventListener("message",O._onMessage),ie.isEnabled&&ie.off("fullscreenchange",O.fullscreenchangeHandler),_()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(O){return this.set("autopause",O)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(O){return this.set("cameraProps",O)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return J.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(O){return this.set("color",O)}},{key:"setColors",value:function(O){if(!Array.isArray(O))return new J((function(O,_){return _(new TypeError("Argument must be an array."))}));var _=new J((function(O){return O(null)})),M=[O[0]?this.set("colorOne",O[0]):_,O[1]?this.set("colorTwo",O[1]):_,O[2]?this.set("colorThree",O[2]):_,O[3]?this.set("colorFour",O[3]):_];return J.all(M)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(O){return this.set("currentTime",O)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(O){return this.set("loop",O)}},{key:"setMuted",value:function(O){return this.set("muted",O)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(O){return this.set("playbackRate",O)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(O){return this.set("quality",O)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(O){return this.set("volume",O)}},{key:"setTimingSrc",value:(O=h(j().mark((function e(O,_){var M,L=this;return j().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(O){A.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return A.next=4,this.ready();case 4:return M=new ne(this,O,_),W(this,"notifyTimingObjectConnect"),M.addEventListener("disconnect",(function(){return W(L,"notifyTimingObjectDisconnect")})),A.abrupt("return",M);case 8:case"end":return A.stop()}}),e,this)}))),function(_,M){return O.apply(this,arguments)})}]),Player}();return O||(K=function(){for(var O,_=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],M=0,L=_.length,A={};M<L;M++)if((O=_[M])&&O[1]in document){for(M=0;M<O.length;M++)A[_[0][M]]=O[M];return A}return!1}(),Z={fullscreenchange:K.fullscreenchange,fullscreenerror:K.fullscreenerror},ee={request:function(O){return new Promise((function(_,M){function n(){ee.off("fullscreenchange",n),_()}ee.on("fullscreenchange",n);var L=(O=O||document.documentElement)[K.requestFullscreen]();L instanceof Promise&&L.then(n).catch(M)}))},exit:function(){return new Promise((function(O,_){var M,L;ee.isFullscreen?(M=function e(){ee.off("fullscreenchange",e),O()},ee.on("fullscreenchange",M),(L=document[K.exitFullscreen]())instanceof Promise&&L.then(M).catch(_)):O()}))},on:function(O,_){var M=Z[O];M&&document.addEventListener(M,_)},off:function(O,_){var M=Z[O];M&&document.removeEventListener(M,_)}},Object.defineProperties(ee,{isFullscreen:{get:function(){return Boolean(document[K.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[K.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[K.fullscreenEnabled])}}}),ie=ee,function(O){function n(O){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(O))}var _=0<arguments.length&&void 0!==O?O:document;[].slice.call(_.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")).forEach((function(O){try{if(null!==O.getAttribute("data-vimeo-defer"))return;var _=G(O);H(b(_),_,O).then((function(_){return B(_,O)})).catch(n)}catch(_){n(_)}}))}(),function(O){var _=0<arguments.length&&void 0!==O?O:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",(function(O){if(g(O.origin)&&O.data&&"spacechange"===O.data.event)for(var M=_.querySelectorAll("iframe"),L=0;L<M.length;L++)if(M[L].contentWindow===O.source){M[L].parentElement.style.paddingBottom="".concat(O.data.data[0].bottom,"px");break}})))}(),function(O){var _=0<arguments.length&&void 0!==O?O:document;window.VimeoSeoMetadataAppended||(window.VimeoSeoMetadataAppended=!0,window.addEventListener("message",(function(O){if(g(O.origin)){var M=D(O.data);if(M&&"ready"===M.event)for(var L=_.querySelectorAll("iframe"),A=0;A<L.length;A++){var R=L[A],U=R.contentWindow===O.source;w(R.src)&&U&&new ae(R).callMethod("appendVideoMetadata",window.location.href)}}})))}(),function(O){var _,M=0<arguments.length&&void 0!==O?O:document;window.VimeoCheckedUrlTimeParam||(window.VimeoCheckedUrlTimeParam=!0,_=function(O){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(O))},window.addEventListener("message",(function(O){if(g(O.origin)){var L=D(O.data);if(L&&"ready"===L.event)for(var A=M.querySelectorAll("iframe"),R=0;R<A.length;R++)!function(){var M,L=A[R],U=L.contentWindow===O.source;w(L.src)&&U&&(M=new ae(L)).getVideoId().then((function(O){var _,L=new RegExp("[?&]vimeo_t_".concat(O,"=([^&#]*)")).exec(window.location.href);L&&L[1]&&(_=decodeURI(L[1]),M.setCurrentTime(_))})).catch(_)}()}})))}()),ae}));