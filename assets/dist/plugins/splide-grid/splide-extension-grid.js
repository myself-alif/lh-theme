/*! For license information please see splide-extension-grid.js.LICENSE.txt */
!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function slice$1(n,t,e){return Array.prototype.slice.call(n,t,e)}function apply$1(n){return n.bind.apply(n,[null].concat(slice$1(arguments,1)))}function typeOf$1(n,t){return typeof t===n}var n=Array.isArray;function toArray$1(t){return n(t)?t:[t]}function forEach$1(n,t){toArray$1(n).forEach(t)}apply$1(typeOf$1,"function"),apply$1(typeOf$1,"string"),apply$1(typeOf$1,"undefined");var t=Object.keys;function assign$1(n){return slice$1(arguments,1).forEach((function(e){!function forOwn$1(n,e,i){if(n){var o=t(n);o=i?o.reverse():o;for(var r=0;r<o.length;r++){var u=o[r];if("__proto__"!==u&&!1===e(n[u],u))break}}return n}(e,(function(t,i){n[i]=e[i]}))})),n}var e="splide";var i="visible",o="hidden",r="refresh",u="destroy";function EventInterface(t){var e=t?t.event.bus:document.createDocumentFragment(),i=function EventBinder(){var n=[];function forEachEvent(n,t,e){forEach$1(n,(function(n){n&&forEach$1(t,(function(t){t.split(" ").forEach((function(t){var i=t.split(".");e(n,i[0],i[1])}))}))}))}return{bind:function bind(t,e,i,o){forEachEvent(t,e,(function(t,e,r){var u="addEventListener"in t,c=u?t.removeEventListener.bind(t,e,i,o):t.removeListener.bind(t,i);u?t.addEventListener(e,i,o):t.addListener(i),n.push([t,e,r,i,c])}))},unbind:function unbind(t,e,i){forEachEvent(t,e,(function(t,e,o){n=n.filter((function(n){return!!(n[0]!==t||n[1]!==e||n[2]!==o||i&&n[3]!==i)||(n[4](),!1)}))}))},dispatch:function dispatch(n,t,e){var i,o=!0;return"function"==typeof CustomEvent?i=new CustomEvent(t,{bubbles:o,detail:e}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,o,!1,e),n.dispatchEvent(i),i},destroy:function destroy(){n.forEach((function(n){n[4]()})),function empty$1(n){n.length=0}(n)}}}();return t&&t.event.on(u,i.destroy),assign$1(i,{bus:e,on:function on(t,o){i.bind(e,toArray$1(t).join(" "),(function(t){o.apply(o,n(t.detail)?t.detail:[])}))},off:apply$1(i.unbind,e),emit:function emit(n){i.dispatch(e,n,slice$1(arguments,1))}})}var c=e,s=e+"__slide",a=s+"__container";function empty(n){n.length=0}function slice(n,t,e){return Array.prototype.slice.call(n,t,e)}function apply(n){return n.bind.apply(n,[null].concat(slice(arguments,1)))}function typeOf(n,t){return typeof t===n}var f=Array.isArray;apply(typeOf,"function");var l=apply(typeOf,"string"),d=apply(typeOf,"undefined");function isNull(n){return null===n}function toArray(n){return f(n)?n:[n]}function forEach(n,t){toArray(n).forEach(t)}function push(n,t){return n.push.apply(n,toArray(t)),n}function toggleClass(n,t,e){n&&forEach(t,(function(t){t&&n.classList[e?"add":"remove"](t)}))}function addClass(n,t){toggleClass(n,l(t)?t.split(" "):t,!0)}function append(n,t){forEach(t,n.appendChild.bind(n))}function matches(n,t){return function isHTMLElement(n){return n instanceof HTMLElement}(n)&&(n.msMatchesSelector||n.matches).call(n,t)}function child(n,t){return t?function children(n,t){var e=n?slice(n.children):[];return t?e.filter((function(n){return matches(n,t)})):e}(n,t)[0]:n.firstElementChild}var p=Object.keys;function forOwn(n,t,e){if(n){var i=p(n);i=e?i.reverse():i;for(var o=0;o<i.length;o++){var r=i[o];if("__proto__"!==r&&!1===t(n[r],r))break}}return n}function removeAttribute(n,t){forEach(n,(function(n){forEach(t,(function(t){n&&n.removeAttribute(t)}))}))}function setAttribute(n,t,e){!function isObject(n){return!isNull(n)&&typeOf("object",n)}(t)?forEach(n,(function(n){isNull(e)||""===e?removeAttribute(n,t):n.setAttribute(t,String(e))})):forOwn(t,(function(t,e){setAttribute(n,e,t)}))}function create(n,t,e){var i=document.createElement(n);return t&&(l(t)?addClass(i,t):setAttribute(i,t)),e&&append(e,i),i}function style(n,t,e){if(d(e))return getComputedStyle(n)[t];isNull(e)||(n.style[t]=""+e)}function queryAll(n,t){return t?slice(n.querySelectorAll(t)):[]}function removeClass(n,t){toggleClass(n,t,!1)}function unit(n){return l(n)?n:n?n+"px":""}var y="splide";var v=Math.min;Math.max,Math.floor,Math.ceil,Math.abs;var h=s+"__row",m=s+"--col",g={rows:1,cols:1,dimensions:[],gap:{}};function Dimension(n){function normalize(){var t=n.rows,e=n.cols,i=n.dimensions;return f(i)&&i.length?i:[[t,e]]}return{get:function get(n){var t=normalize();return t[v(n,t.length-1)]},getAt:function getAt(n){for(var t,e,i=normalize(),o=0,r=0;r<i.length;r++){var u=i[r];if(n<(o+=(t=u[0]||1)*(e=u[1]||1)))break}return function assert(n,t){if(!n)throw new Error("["+y+"] "+(t||""))}(t&&e,"Invalid dimension"),[t,e]}}}function Layout(n,t,e){var r=EventInterface(n),u=r.on,c=r.destroy,s=n.Components,f=n.options,l=s.Direction.resolve,d=s.Slides.forEach;function cover(n,t){var e=child(n,"."+a),i=child(e||n,"img");i&&i.src&&(style(e||n,"background",t?"":'center/cover no-repeat url("'+i.src+'")'),style(i,"display",t?"":"none"))}function getRowsIn(n){return queryAll(n,"."+h)}function getColsIn(n){return queryAll(n,"."+m)}function toggleTabIndex(n,t){getColsIn(n).forEach((function(n){setAttribute(n,"tabindex",t?0:null)}))}function onVisible(n){toggleTabIndex(n.slide,!0)}function onHidden(n){toggleTabIndex(n.slide,!1)}return{mount:function mount(){!function layout(){d((function(i){var o=i.slide,r=e.get(i.isClone?i.slideIndex:i.index),u=r[0],c=r[1];!function layoutRow(n,e){var i=t.gap.row,o="calc("+100/n+"%"+(i?" - "+unit(i)+" * "+(n-1)/n:"")+")";getRowsIn(e).forEach((function(n,t,e){style(n,"height",o),style(n,"display","flex"),style(n,"margin","0 0 "+unit(i)+" 0"),style(n,"padding",0),t===e.length-1&&style(n,"marginBottom",0)}))}(u,o),function layoutCol(n,e){var i=t.gap.col,o="calc("+100/n+"%"+(i?" - "+unit(i)+" * "+(n-1)/n:"")+")";getColsIn(e).forEach((function(n,t,e){style(n,"width",o),t!==e.length-1&&style(n,l("marginRight"),unit(i))}))}(c,o),getColsIn(i.slide).forEach((function(t,e){t.id=i.slide.id+"-col"+function pad(n){return n<10?"0"+n:""+n}(e+1),n.options.cover&&cover(t)}))}))}(),f.slideFocus&&(u(i,onVisible),u(o,onHidden))},destroy:function destroy(){d((function(n){var t=n.slide;toggleTabIndex(t,!1),getRowsIn(t).forEach((function(n){removeAttribute(n,"style")})),getColsIn(t).forEach((function(n){cover(n,!0),removeAttribute(n,"style")}))})),c()}}}"undefined"!=typeof window&&(window.splide=window.splide||{},window.splide.Extensions=window.splide.Extensions||{},window.splide.Extensions.Grid=function Grid(n,t,e){var i=EventInterface(n),o=i.on,u=i.off,a=t.Elements,l={},d=Dimension(l),y=Layout(n,l,d),v=c+"--grid",E=[];function init(){!function omit(n,t){toArray(t||p(n)).forEach((function(t){delete n[t]}))}(l),function assign(n){slice(arguments,1).forEach((function(t){forOwn(t,(function(e,i){n[i]=t[i]}))}))}(l,g,e.grid||{}),function shouldBuild(){if(e.grid){var n=l.rows,t=l.cols,i=l.dimensions;return n>1||t>1||f(i)&&i.length>0}return!1}()?(destroy(),push(E,a.slides),addClass(n.root,v),append(a.list,function build(){var n,t,e=[],i=0,o=0;return E.forEach((function(r,u){var c=d.getAt(u),a=c[0],f=c[1];o||(i||(n=create(r.tagName,s),e.push(n)),t=function buildRow(n,t,e){return create("li"===t.tagName.toLowerCase()?"ul":"div",h,e)}(0,r,n)),function buildCol(n,t,e){addClass(t,m),append(e,t)}(0,r,t),++o>=f&&(o=0,i=++i>=a?0:i)})),e}()),u(r),o(r,layout),refresh()):isActive()&&(destroy(),refresh())}function destroy(){if(isActive()){var t=a.slides;y.destroy(),E.forEach((function(n){removeClass(n,m),append(a.list,n)})),function remove(n){forEach(n,(function(n){n&&n.parentNode&&n.parentNode.removeChild(n)}))}(t),removeClass(n.root,v),empty(t),push(t,E),empty(E),u(r)}}function refresh(){n.refresh()}function layout(){isActive()&&y.mount()}function isActive(){return function hasClass(n,t){return n&&n.classList.contains(t)}(n.root,v)}return{mount:function mount(){init(),o("updated",init)},destroy}})}));